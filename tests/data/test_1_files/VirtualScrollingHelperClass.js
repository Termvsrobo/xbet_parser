!function(l){function t(){o&&o.abort(),c&&c.off("scroll",i),c=l("#main_container"),a=l("[data-scrollable-content]:first",c),n=a.offset().top,r=!0,c.on("scroll",i)}function e(){var t=l("[data-end-of-page]:last",c).data("endOfPage")+1;return l("[data-virtual-scrolling-bar]",c).attr("data-virtual-scrolling-bar","loading"),o=l.Page.location(l.Page.location().href,"getPage",{dataType:"json",data:{page:t}}).updateContent(function(t){if(t)for(var e=0;e<t.length;e++){var a,n,o,r,i,d=t[e];d.selector?"nextPageContent"===d.selector&&(a=l(d.content).toArray(),n=(r=l(a[0])).data("sportTreeid"),n=l(".events-container [data-sport-treeId="+n+"]:first"),o=a.map(function(t){return l(t).data("sportTreeid")}).filter(function(t){return t}),n.length&&(r=l("[data-category-treeid], output",r).toArray(),i=l(r[0]).data("categoryTreeid"),l("[data-category-treeid="+i+"]",n).prev().nextAll("[data-category-treeid]").remove(),l("[data-content]:first",n).append(r),a=a.slice(1)),l(".events-container [data-sport-treeId]:last").after(a),l(document).trigger("nextPageLoaded",[o])):d.prop&&"hasNextPage"===d.prop&&!d.val&&(l("[data-virtual-scrolling-bar]",c).remove(),l("[data-end-of-page]",c).remove())}}).fail(function(){r=!1,l("[data-virtual-scrolling-bar]",c).attr("data-virtual-scrolling-bar","load-btn")}).done(function(){r=!0,l("[data-end-of-page]:first",c).remove(),window.Emitter.emit("next-page-loaded")}).always(function(){o=null})}var c,a,n,o,r=!0,i=_.throttle(function(){var t=a.offset().top;t<n&&r&&setTimeout(f),n=t},1e3),d=_.throttle(function(){r&&setTimeout(f)},1e3),f=function(){var t;(t=l("[data-end-of-page]:first",c)).length&&!o&&c.offset().top+c.height()>=t.offset().top&&e().done(f)},s=(l(document).on("click","[data-load-next-page-btn]",e),{Init:function(){t(),f(),window.addEventListener("resize",d)},update:function(){t(),f()}});window.getVirtualScrollingHelper=function(){return s}}(jQuery);
//# sourceMappingURL=VirtualScrollingHelperClass.map